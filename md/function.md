# 功能模块

## 笔记图片

### 前端上传
通过input绑定change获取事件流，从事件流中(e)获取到上传图片文件信息
将各个数据和图片数据通过 formData 存储起来，发送给服务器
### 后端存储
使用multer中间件，将formData数据解析为file和body区分，
并设置storage配置，配置中设置图片保存目录和保存图片名称,
在路由处使用中间件并使用sigle方法指定处理单个文件并设置那个文件的字段名，
存储数据处理时，还需要解析下保存文件的路径，将\\更正为/
将文件对象数据存储到数据库
tip:
值得注意的是，因为文件需要formData形式也就是表单形式传输，我在提交请求中改变了请求头，将urlcode改为了formdata，好在后端使用multer解析formdata数据时也是将数据存在了body中，不需要大幅度改动
### 前端获取
获取的数据直接在笔记中，获取到后设置图片，需要注意css外设置backgroundImage需要import导入，vue不支持直接使用
### 后端发送
取出数据需要拼接下图片路径为完整的能显示的imgUrl



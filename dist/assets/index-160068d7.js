import{d as i,r as u,h as n,c,a as l,_ as t}from"./index-64a740cb.js";const _=i("userinfo-store",()=>{const e={userInfo:u({})},r=o=>{n.defaults.headers.common.Authorization=o,localStorage.setItem("token",o)};return{...e,setAuth:r,removeAuth:()=>{delete n.defaults.headers.common.Authorization,localStorage.removeItem("token"),s.push("/login")},authFromLocal:()=>{const o=localStorage.getItem("token");return o?(r(o),!0):!1}}}),m=()=>t(()=>import("./Home-de4b334c.js"),["./Home-de4b334c.js","./index-64a740cb.js","./index-e85d5d55.css","./useScrollAnimate-a4cd2e82.js","./Pz-0052-893f1e76.js","./Home-91df913b.css"],import.meta.url),p=()=>t(()=>import("./BlogNote-1d5042df.js"),["./BlogNote-1d5042df.js","./index-64a740cb.js","./index-e85d5d55.css","./moment-fbc5633a.js","./Pz-0052-893f1e76.js","./BlogNote-3df21a6f.css","./NoteNav-e8e265bc.css"],import.meta.url),h=()=>t(()=>import("./NoteContent-cc98a977.js"),["./NoteContent-cc98a977.js","./index-64a740cb.js","./index-e85d5d55.css","./moment-fbc5633a.js","./IconTag-f5da4f18.js","./notes-afe29315.js","./NoteContent-ea0cb114.css"],import.meta.url),d=()=>t(()=>import("./NoteNav-222e80ff.js"),["./NoteNav-222e80ff.js","./index-64a740cb.js","./index-e85d5d55.css","./useTitle-c593b16e.js","./useScrollAnimate-a4cd2e82.js","./moment-fbc5633a.js","./notes-afe29315.js","./NoteNav-e8e265bc.css"],import.meta.url),f=()=>t(()=>import("./NoteCate-83fe2b61.js"),["./NoteCate-83fe2b61.js","./IconTag-f5da4f18.js","./index-64a740cb.js","./index-e85d5d55.css","./moment-fbc5633a.js","./useTitle-c593b16e.js","./NoteCate-50bef5f1.css"],import.meta.url),v=()=>t(()=>import("./NoteChapter-31013c4b.js"),["./NoteChapter-31013c4b.js","./index-64a740cb.js","./index-e85d5d55.css","./NoteChapter-2c4688fd.css"],import.meta.url),A=()=>t(()=>import("./FriendLink-7697d6f9.js"),["./FriendLink-7697d6f9.js","./index-64a740cb.js","./index-e85d5d55.css","./FriendLink-844d4fb1.css"],import.meta.url),s=c({history:l(),scrollBehavior(e,r){return console.log("=>to",e),{top:0}},routes:[{path:"/",meta:{title:"Home",requiresAuth:!1},component:m},{path:"/about",meta:{title:"关于我",requiresAuth:!1},component:m},{path:"/note",meta:{requiresAuth:!1},component:p,redirect:"/note/nav",children:[{name:"NoteNav",meta:{title:"笔记首页"},path:"nav",component:d},{path:"cate",meta:{title:"分类"},component:f},{path:"friend",meta:{title:"友情链接"},component:A},{path:"content",meta:{title:"笔记详情"},components:{default:h,NoteChapter:v}}]}]}),E=_();s.beforeEach(async(e,r,a)=>{!e.meta.requiresAuth||E.authFromLocal()?(console.log("需要登录权限,并且具有token"),a()):a("/login")});export{s as router};
